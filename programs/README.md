Processing Figures and Tables
=============================
The programs in this folder create the figures and tables in the article. They need to be run before compiling the LaTeX. No post-processing should be needed.


Data sources
------------
- `data/jira`: 
   - `confidential`: Internal data from the JIRA system used by the AEA Data Editor. Not provided.
   - `anon`: Anonymized subset of the internal data used to generate all figures and tables. Download data from Vilhuber(2023) and save into this folder. `01_jira_anonymize.R` was used to anonymize these data.
- `data/icpsr`: This directory contains data from the internal systems underlying the AEA Data and Code repository.
- `data/scholarone`: This directory contains summary statistics on processing times that were extracted from the ScholarOne manuscript management system used by the AEA.
- `data/zenodo`: This directory contains data on download and view numbers for Zenodo packages. While the replication package contains a copy, all content is generated by `zenodo_pull.py`.
- `tables`: This directory contains table data created during processing. While the replication package contains a copy, all content is generated by `programs`.

Pre-requisites
--------------
- R (last run with 4.2.2)
  - Package `here` is required
  - all other packages are listed at the top of each R program, and will be installed automatically
- Bash shell (optional)
  - used to run all R scripts in sequence

Processing
----------

- Either run each R file in numerical order or run `run_all.sh` from a shell to process all files in numerical order.
- Note that in the absence of the raw (confidential) data files used in  `01_jira_anonymize.R`, that step will be skipped. This is normal.
- Run `zenodo_pull.py`.

Outputs
-------
Output folders are listed in `config.R`. By default, 
 - figures are in the `(BASEPATH)/images` folder
 - tables (and CSV files) are in the `(BASEPATH)/tables` folder

### Mapping tables and figures to article

Table and figure numbers in the paper do not map to program names, due to editorial decisions. The table below maps files, figures/tables, and the programs used to generate them.

| Name of file | Figure/ Table in article | Program to create |
|--------------|--------------------------|-------------------|
| jira_response_options_mod.tex | Table 1 | 06_table3_response_options.R |
| n_journal_numbers_mod.tex | Table 2 | 05_table2_stats.R |
| plot_rounds_compare.png | Figure 1 | 07_table4.R |
| n_rounds.tex | Table 3 | 07_table4.R |
| n_webstats.tex | Table 4 | 09_table5_webstats.R |
| plot_filesize_dist.png | Figure 2 | 08_figure1_filesize.R |
| n_compliance_manuscript_mod.tex | Table 5 | 04_table1_compliance.R |
| n_updates_manuscript_mod.tex | Table 6 | 04_table1_compliance.R |

In-text numbers are collected throughout all programs, and written out in `programs/99_write_nums.R` to `tables/latexnums.tex`.

Changelog
---------


References
----------
